{"version":3,"sources":["file:///D:/game/iKunGame/assets/script/main.ts"],"names":["_decorator","Component","Node","assetManager","Sprite","SpriteFrame","AudioSource","Label","ccclass","property","main","start","initTopBeiJing","initMusic","initButton","loadBundle","err","ab","topSprite","node","getChildByPath","getComponent","downSprite","load","resAsset","spriteFrame","on","EventType","TOUCH_START","play","update","deltaTime","button","string","active","audioSource","console","log","_audioSource","pause"],"mappings":";;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAgBC,MAAAA,Y,OAAAA,Y;AAAuCC,MAAAA,M,OAAAA,M;AAAOC,MAAAA,W,OAAAA,W;AAAYC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,K,OAAAA,K;;;;;;;OACjH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;sBAGjBU,I,WADZF,OAAO,CAAC,MAAD,C,UAGHC,QAAQ,CAACH,WAAD,C,2BAHb,MACaI,IADb,SAC0BT,SAD1B,CACoC;AAAA;AAAA;;AAAA;AAAA;;AAKhCU,QAAAA,KAAK,GAAG;AACJ,eAAKC,cAAL;AACA,eAAKC,SAAL;AACA,eAAKC,UAAL;AACH;;AAEDF,QAAAA,cAAc,GAAE;AAAA;;AACZT,UAAAA,YAAY,CAACY,UAAb,CAAwB,eAAxB,iCAAyC,WAAOC,GAAP,EAAYC,EAAZ,EAAwC;AAC7E;AACA,gBAAIC,SAAS,GAAG,KAAI,CAACC,IAAL,CAAUC,cAAV,CAAyB,eAAzB,EAA0CC,YAA1C,CAAuDjB,MAAvD,CAAhB;;AACA,gBAAIkB,UAAU,GAAG,KAAI,CAACH,IAAL,CAAUC,cAAV,CAAyB,gBAAzB,EAA2CC,YAA3C,CAAwDjB,MAAxD,CAAjB,CAH6E,CAK7E;;;AACAa,YAAAA,EAAE,CAACM,IAAH,CAAQ,sBAAR,EAA+BlB,WAA/B,EAA2C,CAACW,GAAD,EAAMQ,QAAN,KAAmB;AAC1DN,cAAAA,SAAS,CAACO,WAAV,GAAsBD,QAAtB;AACH,aAFD;AAIAP,YAAAA,EAAE,CAACM,IAAH,CAAQ,wBAAR,EAAiClB,WAAjC,EAA6C,CAACW,GAAD,EAAMQ,QAAN,KAAmB;AAC5DF,cAAAA,UAAU,CAACG,WAAX,GAAuBD,QAAvB;AACH,aAFD;AAIH,WAdD;AAeH;;AAGDV,QAAAA,UAAU,GAAE;AAAA;;AACR,wCAAKK,IAAL,CAAUC,cAAV,CAAyB,6BAAzB,4CAAyDM,EAAzD,CAA4DxB,IAAI,CAACyB,SAAL,CAAeC,WAA3E,EAAwF,KAAKC,IAA7F,EAAmG,IAAnG;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAIDlB,QAAAA,SAAS,GAAI;AACT,cAAMmB,MAAM,GAAG,KAAKb,IAAL,CAAUC,cAAV,CAAyB,6BAAzB,CAAf;AACAY,UAAAA,MAAM,CAACZ,cAAP,CAAsB,OAAtB,EAA+BC,YAA/B,CAA4Cd,KAA5C,EAAmD0B,MAAnD,GAA0D,MAA1D;AACAD,UAAAA,MAAM,CAACE,MAAP,GAAc,IAAd,CAHS,CAIR;;AACA,cAAMC,WAAW,GAAGH,MAAM,CAACX,YAAP,CAAoBf,WAApB,CAApB;AACA8B,UAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ,EANQ,CAOR;;AACA,eAAKG,YAAL,GAAoBH,WAApB;AACH;;AAEDN,QAAAA,IAAI,GAAI;AACJ;AACA,eAAKS,YAAL,CAAkBT,IAAlB;AACH;;AAEDU,QAAAA,KAAK,GAAI;AACL;AACA,eAAKD,YAAL,CAAkBC,KAAlB;AACH;;AA3D8B,O;;;;;iBAGG,I","sourcesContent":["import { _decorator, Component, Node, resources,assetManager,SpriteAtlas,AssetManager, Sprite,SpriteFrame,AudioSource, Label } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('main')\nexport class main extends Component {\n\n    @property(AudioSource)\n    public _audioSource: AudioSource = null!;\n\n    start() {\n        this.initTopBeiJing();\n        this.initMusic();\n        this.initButton();\n    }\n\n    initTopBeiJing(){\n        assetManager.loadBundle('assetsResours', async (err, ab: AssetManager.Bundle) => {\n            // 获得精灵节点\n            let topSprite = this.node.getChildByPath(\"topbackground\").getComponent(Sprite);\n            let downSprite = this.node.getChildByPath(\"downbackground\").getComponent(Sprite);\n\n            // 从ab包加载图集资源\n            ab.load('img/beij/spriteFrame',SpriteFrame,(err, resAsset) => {\n                topSprite.spriteFrame=resAsset;\n            });\n            \n            ab.load('img/downgg/spriteFrame',SpriteFrame,(err, resAsset) => {\n                downSprite.spriteFrame=resAsset;\n            });\n           \n        })\n    }\n\n\n    initButton(){\n        this.node.getChildByPath(\"buttons/buttons1/Button-000\")?.on(Node.EventType.TOUCH_START, this.play, this);\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    \n\n    initMusic () {\n        const button = this.node.getChildByPath(\"buttons/buttons1/Button-000\");\n        button.getChildByPath(\"Labei\").getComponent(Label).string=\"鸡你太美\";\n        button.active=true;\n         // 获取 AudioSource 组件\n         const audioSource = button.getComponent(AudioSource)!;\n         console.log(audioSource);\n         // 将组件赋到全局变量 _audioSource 中\n         this._audioSource = audioSource;\n     }\n\n     play () {\n         // 播放音乐\n         this._audioSource.play();\n     }\n\n     pause () {\n         // 暂停音乐\n         this._audioSource.pause();\n     }\n}\n\n"]}